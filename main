cat > main.py << 'EOF'
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
import os

app = FastAPI(
    title="PropelMe - AI Networking Agent",
    version="2.0",
    description="AI-powered networking assistant with LinkedIn integration"
)

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

@app.get("/")
def root():
    return {
        "service": "PropelMe",
        "status": "running",
        "version": "2.0",
        "ai": "Google Gemini (Vertex AI)",
        "features": ["AI messaging", "LinkedIn OAuth", "Network analysis"],
        "endpoints": ["/health", "/docs", "/ai/*", "/auth/*"]
    }

@app.get("/health")
def health():
    from App.Config import settings
    return {
        "status": "healthy",
        "project_id": os.getenv("GOOGLE_PROJECT_ID", "not-set"),
        "linkedin_configured": settings.has_linkedin(),
        "eventbrite_configured": settings.has_eventbrite()
    }

# Load routers
try:
    from App.Routers.AI import router as ai_router
    app.include_router(ai_router)
    print("✓ AI router loaded")
except Exception as e:
    print(f"✗ AI router failed: {e}")

try:
    from App.Routers.Auth import router as auth_router
    app.include_router(auth_router)
    print("✓ Auth router loaded")
except Exception as e:
    print(f"✗ Auth router failed: {e}")
EOF
